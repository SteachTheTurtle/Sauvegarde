Version 4
SHEET 1 1488 772
WIRE 64 128 32 128
WIRE 288 128 176 128
WIRE 640 128 512 128
WIRE 1152 128 1024 128
WIRE 64 160 64 128
WIRE 176 160 176 128
WIRE 512 160 512 128
WIRE 1024 160 1024 128
WIRE 64 272 64 240
WIRE 176 272 176 240
WIRE 512 272 512 240
WIRE 1024 272 1024 240
WIRE 64 368 32 368
WIRE 288 368 176 368
WIRE 624 368 512 368
WIRE 64 400 64 368
WIRE 176 400 176 368
WIRE 512 400 512 368
WIRE 64 512 64 480
WIRE 176 512 176 480
WIRE 512 512 512 480
WIRE 624 608 512 608
WIRE 512 640 512 608
WIRE 512 752 512 720
FLAG 32 128 INPUT
IOPIN 32 128 In
FLAG 1152 128 OUTPUT
IOPIN 1152 128 Out
FLAG 176 272 0
FLAG 512 272 0
FLAG 288 128 KP_NET
FLAG 176 512 0
FLAG 288 368 KI_NET
FLAG 512 512 0
FLAG 624 368 INTEG
FLAG 64 272 0
FLAG 32 368 RESET
IOPIN 32 368 In
FLAG 64 512 0
FLAG 640 128 SAT_IN
FLAG 1024 272 0
FLAG 512 752 0
FLAG 624 608 STOP
SYMBOL bv 176 144 R0
SYMATTR InstName B1
SYMATTR Value V={KP}*V(INPUT)
SYMBOL bv 176 384 R0
SYMATTR InstName B2
SYMATTR Value V={KI}*V(KP_NET)
SYMBOL bv 512 144 R0
SYMATTR InstName B3
SYMATTR Value V=V(KP_NET)+V(INTEG)
SYMBOL bv 512 384 R0
SYMATTR InstName B4
SYMATTR Value V=idt(if(V(STOP)==0,V(KI_NET),0),0,V(RESET))
SYMBOL res 48 144 R0
SYMATTR InstName R1
SYMATTR Value 1G
SYMBOL res 48 384 R0
SYMATTR InstName R2
SYMATTR Value 1G
SYMBOL bv 1024 144 R0
SYMATTR InstName B5
SYMATTR Value V=limit(SAT_MIN,V(SAT_IN),SAT_MAX)
SYMBOL bv 512 624 R0
SYMATTR InstName B6
SYMATTR Value V=if((V(INPUT)*V(SAT_IN)>0)&(V(SAT_IN)<>V(OUTPUT)),1,0)
TEXT -64 -128 Left 2 ;Device: Correcteur PI\nModel Author: Yannick MOREL\nModel Version: 1.0
TEXT 528 -104 Left 2 !.param KP=1 KI=0 SAT_MIN=0 SAT_MAX=20
